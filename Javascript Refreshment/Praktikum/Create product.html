<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Product</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="navbar">
        <div class="header-text">Simple Header</div>
        <a href="#home">Home</a>
        <a href="features">Features</a>
        <a href="pricing">Pricing</a>
        <a href="faqs">FAQs</a>
        <a href="#about">About</a>
    </div>
    <br>
    <br>
    <main>
        <div class="logo">
            <img src="logo.png" alt="logo">
        </div>
        <div class="content" id="content-section">
            <div class="content-text">
                <h1>Create Product</h1>
                <p>Below is an example form built entirely with Bootstrap's form controls. Each required form group has a validation state that can be triggered by attempting to submit the form without completing it.</p>
                <h2>Detail Product</h2>
            </div>
        </div>
        <div class="container">
            <form action="processProduct.php" method="POST" onsubmit="return validateForm()">
                <label for="productName">Product Name</label>
                <input type="text" id="productName" name="productName" required>
                <br>
                <br>
                <label for="productCategory">Product Category</label>
                <select id="productCategory" name="productCategory">
                    <option value="choose">Choose</option>
                    <option value="choose">Elektronik</option>
                    <option value="choose">Kendaraan</option>
                    <option value="choose">Make Up</option>
                    <option value="choose">Fashion</option>
                </select>
                <br>
                <br>
                <label>Image of Product</label>
                <br>
                <input type="file" id="fileInput" style="display: none;">
                <button id="chooseFileButton">Choose File</button>
                <br>
                <br>
                <label for="imageofproduct">No file chosen</label>
                <br>
                <br>
                <label for="productFreshness">Product Freshness:</label>
                <br>
                <ol id="productFreshness">
                    <ul><input type="checkbox" name="freshness" value="Brand New"> Brand New</ul>
                    <ul><input type="checkbox" name="freshness" value="Second Hand"> Second Hand</ul>
                    <ul><input type="checkbox" name="freshness" value="Refurbished"> Refurbished</ul>
                </ol>
                <br>
                <br>
                <label for="additionalDescription">Additional Description</label>
                <br>
                <textarea id="additionalDescription" name="additionalDescription" required></textarea>
                <br>
                <label for="productPrice">Product Price:</label>
                <br>
                <input type="text" id="productPrice" name="productPrice" required>
                <br>
                <br>
                <button id="submit">Submit</button>
            </form>
        </div>
    </main>
    <footer>
        <p class="mt-3"><a href="landingPage.html">Back to Landing Page</a></p>
    </footer>

    // Kode Javascript
    <script>
        function showErrorField(element) {
            element.style.border = "1px solid red";
            const errorIcon = document.createElement("i");
            errorIcon.className = "bi bi-x-circle-fill text-danger";
            element.insertAdjacentElement("afterend", errorIcon);
        }
    
        function clearErrorField(element) {
            element.style.border = "";
            const errorIcon = element.nextElementSibling;
            if (errorIcon && errorIcon.className.includes("bi-x-circle-fill")) {
                errorIcon.remove();
            }
        }
    
        function validateForm() {
            let productName = document.getElementById("productName");
            let productCategory = document.getElementById("productCategory");
            let productPrice = document.getElementById("productPrice");
            let selectedFreshness = document.querySelector('input[name="freshness"]:checked');
            let additionalDescription = document.getElementById("additionalDescription");
    
            if (productName.value.match(/[#@\/{}]/)) {
                alert("Name must not contain symbols.");
                showErrorField(productName);
                return false;
            }
    
            if (productName.value.length < 10 || productName.value.length > 25) {
                alert("Last Name must not exceed 25 characters and cannot be empty.");
                showErrorField(productName);
                return false;
            }
    
            if (!productName.value.trim()) {
                alert("Product Name cannot be empty.");
                showErrorField(productName);
                return false;
            }
    
            clearErrorField(productName);
    
            if (productCategory.value === "choose") {
                alert("Please select a Product Category.");
                showErrorField(productCategory);
                return false;
            }
    
            clearErrorField(productCategory);
    
            if (!selectedFreshness) {
                alert("Please select one Product Freshness option.");
                freshnessOptions.forEach(option => showErrorField(option));
                return false;
            }
    
            freshnessOptions.forEach(option => clearErrorField(option));
    
            if (!additionalDescription.value.trim()) {
                alert("Additional Description cannot be empty.");
                showErrorField(additionalDescription);
                return false;
            }
    
            clearErrorField(additionalDescription);
    
            if (!/^\d+$/.test(productPrice.value)) {
                alert("Product Price must be a number and cannot be empty");
                showErrorField(productPrice);
                return false;
            }
    
            if (!productPrice.value.trim()) {
                alert("Product Price cannot be empty.");
                showErrorField(productPrice);
                return false;
            }
    
            clearErrorField(productPrice);
    
            return true;
        }
    
        const freshnessOptions = document.querySelectorAll('input[name="freshness"]');
        freshnessOptions.forEach(option => {
            option.addEventListener("click", function() {
                freshnessOptions.forEach(otherOption => {
                    otherOption.checked = false;
                    clearErrorField(otherOption);
                });
                this.checked = true;
                clearErrorField(this);
            });
        });
    
        submitButton.addEventListener("click", function(event) {
    event.preventDefault(); // Mencegah pengiriman form langsung
    if (validateForm()) {
        // Jika validasi sukses, lanjutkan dengan mengirimkan form ke server
        // document.querySelector("form").submit();

        // Ambil semua data yang diisi
        const productName = document.getElementById("productName").value;
        const productCategory = document.getElementById("productCategory").value;
        const selectedFreshness = document.querySelector('input[name="freshness"]:checked').value;
        const additionalDescription = document.getElementById("additionalDescription").value;
        const productPrice = document.getElementById("productPrice").value;

        // Tampilkan data dengan alert
        const alertMessage = `Product Name: ${productName}\nProduct Category: ${productCategory}\nProduct Freshness: ${selectedFreshness}\nAdditional Description: ${additionalDescription}\nProduct Price: ${productPrice}`;
        alert(alertMessage);
    }
});

    </script>
    
</body>
</html>
